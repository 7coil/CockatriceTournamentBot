<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Marchesa Cockatrice Bot API Documentation</title>
</head>

<body>
<h1>API Documentation</h1>

<p>This API documentation should be accurate if it is not please visit the
<a href="/github">github repo</a> and make an issue.</p>

<h2 name="index">Index:</h2>
<!--Index Auto-generated by the python script-->
<p><a href="#index">index</a></p>
<p><a href="#top">top</a></p>
<p><a href="#help">help</a></p>
<p><a href="#version">version</a></p>
<p><a href="#check auth key">check auth key</a></p>
<p><a href="#invalid auth token">invalid auth token</a></p>
<p><a href="#create game">create game</a></p>
<p><a href="#replays">replays</a></p>
<p><a href="#bottom">bottom</a></p>

<a name="top"/>
<h3 name="help">../api/</h3>
returns this page :)

<h3 name="version">../api/version</h3>
request body should be null
returns the server version i.e:
<blockquote>
v1.0
</blockquote>

<h3 name="check auth key">../api/checkauthkey</h3>
request body is auth token i.e:

<blockquote>
sampleauthtoken
</blockquote>

returns 1 if the auth token is valid, 0 if not. i.e:
<blockquote>
valid=1
</blockquote>
if it is valid or
<blockquote>
valid=0
</blockquote>
if it is invalid

<h2 name="invalid auth token">Invalid Auth Tokens</h2>
<p>
Any of the below requests that have an invalid auth token will give an error with 
response code 401 and body of
</p>

<blockquote>
invalid auth token
</blockquote>

<h3 name="create game">../api/creategame</h3>
request body follows this format (case-sensitive):
<br>
<blockquote>
authtoken=token
<br>
gamename=name
<br>
password=password
<br>
playerCount=2/3/...
<br>
spectatctorsAllowed=1/0
<br>
spectatorsNeedPassword=1/0
<br>
spectatorsCanChat=1/0
<br>
spectatorsCanSeeHands=1/0
<br>
onlyRegistered=1/0
</blockquote>

<b>
The slot for the bot is automatically made so player count should be the amount 
of human players
</b>

<br>

returns the game id if the game is made; or error if it is not made. i.e:
<blockquote>
gameid=123456
replayName=replay-test-3.cor
</blockquote>
if it is made or
<blockquote>
timeout error
</blockquote>
if it is not made

<h3 name="replays">../replay-%%s-%%d.cor</h3>
%%d is the game ID as returned by creategame and %%s is the game name sent to the api.
The replay may be overwritten after 
enough time. Returns the replay file.

<a name="bottom"/>

<h3 name ="version"><a href="/api/version">Version info</a> | <a href="/github">
Github repo</a> | Marchesa Bot by Danny Piper (djpiper28)</h3>

</p>
</body>
</html>
